# 직선 길이 미션

## 설계

### 1.초기 설계

: 처음에는 하나의 cordinateHandler라는 class를 선언후, 매개변수로 좌표가 담긴 배열을 받아 직선,넓이를 구하는 매서드를 넣어줬습니다.
하지만 미션의 목표는 객체지향,다향성,상속을 공부하는 것이고 기존 설계는 이와 맞지 않아 설계를 변경해야겠다고 생각했습니다.

### 2.두번째 설계

: 따라서 cordinateHandler Class를 Point, Line, Triangle 등으로 분리를 하였고 각각의 class에는 매개변수로 해당하는 점의 개수를 받게 했습니다.
하지만 이 설계도 상속을 받지 않고 각자의 매서드만 사용하기 때문에 상속과 다향성에 어긋나는 설계라고 생각했습니다. 그래서 다시 설계를 변경했습니다.

### 3.세번째 설계

: 가장 중요한 다향성과 상속에 대해서 공부를 했습니다. 그리고 미션을 다시 한 번 정독하였고 요구사항에서 힌트를 얻어 설계를 했습니다.
point class를 만들어 좌표값을 인스턴스로 생성하였고, shape라는 class를 생성해 좌표값 배열을 상태로 갖고 getArea라는 넓이를 구하는 매서드를 선언해줬습니다. 이 getArea은 상속을 위한 매서드로, 상속받는 class에서 초기화를 시켜주는 용도입니다. 그렇게 하면 어떤 타입의 객체라도 getArea를 호출하는 것만으로도 넓이를 계산할 수 있어 다형성을 지킬 수 있습니다.

: 또한 팩토리얼 객체를 생성하여 좌표값 배열을 받아 그 개수에 맞는 인스턴스를 생성하게 하여, 매개변수의 개수가 맞지않는 오류를 방지하였습니다.

### 4.리팩토링 설계

: 다형성에 대해서 찾아보니, 어느 타입을 호출하든 같은 매서드로 같은 동작을 해야한다는 것이 특징임을 알았습니다. 이를 적용하기 위해 상속받을 부모 class에 공통 매서드를 선언해주었고. 이를 상속 받은 line,Triangle,Polygon에서 각 형태에 맞는 로직을 덮어쓰기하여 사용하게 했습니다. 이로서 메인로직에서 어떤 타입이든 같은 매서드를 호출할 수 있고, 내부적으로 타입에 맞는 동작을 하게 만들었습니다.

### 함수

1. **메인 함수**  
   프로그램 실행을 담당하는 메인 함수입니다.

2. **입력 모듈**  
   `readline`을 사용하여 표준 입력을 처리합니다.

3. **파싱 기능**  
   입력값을 문자열로 받아서, `[{x, y}, {x, y}]` 형태로 반환합니다.

4. **검증 기능**
   - **유효한 숫자 검증**: 좌표값이 0~24 범위 내의 숫자인지 판단하고, boolean 값을 반환합니다.
   - **좌표 개수 검증**: 좌표가 두 개만 입력되었는지 확인하여 boolean 값을 반환합니다.

### 클래스

1. **Point 클래스**  
   `{x, y}` 형태의 좌표값을 가지는 객체입니다.

2. **Geometry 클래스**  
   모든 도형이 상속받는 기본 클래스입니다.

   - `points`: `Point` 인스턴스를 담고 있는 배열입니다.
   - `calculate()`: 상속받은 클래스에서 구현해야 하는 넓이를 구하는 메서드입니다.

3. **Line 클래스**  
   두 점을 연결하는 직선을 나타냅니다.

   - `points`: 두 개의 좌표를 배열에 담습니다.
   - `calculate()`: 두 점 간의 직선 거리를 계산하여 반환하는 메서드입니다.

4. **Triangle 클래스**  
   세 개의 점으로 이루어진 삼각형입니다.

   - `points`: 세 개의 `Point` 인스턴스를 담고 있습니다.
   - `calculate()`: 삼각형의 넓이를 계산하여 반환하는 메서드입니다.

5. **Polygon 클래스**  
   네 개 이상의 점으로 이루어진 다각형입니다.

   - `points`: 다각형을 구성하는 여러 좌표가 담긴 배열입니다.
   - `calculate()`: 다각형의 넓이를 계산하는 메서드입니다.

6. **팩토리얼 클래스**

`GeometryFactory` 클래스는 주어진 좌표의 개수에 따라 적절한 클래스 인스턴스를 생성합니다.

## 실행 방법 및 결과

1. **사용방법**

   - **코드 실행 방법**: `node`에서 실행합니다.
   - **입력 형식 예시**: `(x,y)-(x,y)-(x,y)`
   - **종료 방법**: `end` 입력으로 종료합니다.

2. **입력 검증 기준**

   - **형식 검증**: `(x,y)-(x,y)` 형식이 맞는지 확인합니다.
   - **좌표값 검증**: 좌표값이 0~24 범위 내에 있는지 확인합니다.
   - **좌표 개수**: 최소 두 개의 좌표가 입력되어야 합니다.
   - **중복 좌표 검증**: 중복된 좌표가 입력되면 오류를 발생시킵니다.

3. **입력 예시**

   ```txt
   입력: (10,10)-(14,15)
   출력: 두 점 사이의 거리: 6.4031242374328485

   입력: (10,10)-(14,15)-(20,8)
   출력: 삼각형의 넓이: 29

   입력: (4,1)-(6,4)-(5,7)-(2,6)-(1,3)
   출력: 다각형의 넓이: 18.5
   ```

## 실수들

- 함수에 return을 작성하지 않아 함수의 반환값이 undefined가 출력되었습니다.
- 매서드 이름을 수정하던 중, 이를 받아 쓰는 메인 쪽에서 이름이 수정되지 않아 함수를 찾을 수 없다는 에러가 발생했습니다.

## 도움되었던 글

[객체지향이란?](https://www.codestates.com/blog/content/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95)
